<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatBot Gen2</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
        }
 
      .chat-container {
    width: 1280px;
    height: 720px;
    margin: 40px auto;
    border: 1px solid #ddd;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    background: #fff;
    position: relative;
}
 
   .chat-header {
    background-color: #666;
    color: #fff;
    padding: 0 20px;
    height: 90px;
    display: flex;
    align-items: center;
    font-size: 20px;
    font-weight: bold;
    gap: 12px;
}
 
        .chat-header img {
            width: 75px;
            height: 75px;
            border-radius: 50%;
        }
 
        .close-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: transparent;
            color: #fff;
            border: none;
            font-size: 32px;
            cursor: pointer;
        }
 
        .chat-messages {
            flex: 1;
            overflow-y: scroll;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 100%;
            scrollbar-width: thin;
            scrollbar-color: #888 #f1f1f1;
        }
 
        .chat-messages::-webkit-scrollbar {
            width: 8px;
        }
 
        .chat-messages::-webkit-scrollbar-thumb {
            background-color: #888;
            border-radius: 4px;
        }
 
        .chat-messages::-webkit-scrollbar-track {
            background-color: #f1f1f1;
            border-radius: 4px;
        }
 
        .bot-message-container {
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
 
        .bot-name {
            font-weight: bold;
            margin-right: 5px;
            margin-top: 10px;
        }
 
   .bot-message {
    background-color: #f1f1f1;
    padding: 10px 15px;
    border-radius: 15px;
    max-width: 70%;
    font-family: Arial, sans-serif;
    white-space: pre-line;
}
    

        @keyframes blink {
            0% {
                opacity: 0;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.2);
            }
            100% {
                opacity: 0;
                transform: scale(1);
            }
        }
 
        .message {
            display: flex;
            align-items: flex-start;
        }
 
        .user-message {
            align-self: flex-end;
            background-color: #007bff;
            color: #fff;
            padding: 10px 15px;
            border-radius: 15px;
            max-width: 70%;
        }
 
        .input-container {
            display: flex;
            align-items: center;
            padding: 10px;
            border-top: 1px solid #e0e0e0;
            background-color: #fff;
        }
 
        .input-field {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 15px;
            font-size: 16px;
            font-family: Arial, sans-serif;
            resize: none;
            min-height: 50px;
            max-height: 200px;
            overflow-y: hidden;
            transition: height 0.2s ease;
        }
 
        .send-button {
            background-color: transparent;
            border: none;
            font-size: 24px;
            cursor: pointer;
            margin-left: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            transition: fill 0.2s ease, background-color 0.2s ease;
        }
 
        .send-button svg {
            fill: #333;
            transition: fill 0.2s ease;
        }
 
        .send-button:hover {
            background-color: #d1d1d1;
        }
 
        .send-button:hover svg {
            fill: #444;
        }
 
        .send-button:active {
            background-color: #b0b0b0;
        }
 
        .send-button:active svg {
            fill: #007bff;
        }
    </style>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const messagesContainer = document.querySelector('.chat-messages');
            const inputField = document.querySelector('.input-field');
            const sendButton = document.querySelector('.send-button');
            const startText = "I need a wording suggestion for an email to my colleague Philip. On November 8, he sent me an incorrect final project report (incorrect figures in the budget overview, as well as spelling and grammatical errors). Philip is committed but reacts sensitively to criticism. The email should gently ask for a revision by the beginning of next week, without hurting his feelings.";
 
            inputField.value = "";
inputField.focus();

let i = 0;
const typingSpeed = 25; // Millisekunden pro Zeichen

function typeIntoInput() {
    if (i < startText.length) {
        inputField.value += startText.charAt(i);
        i++;

        // Auto-Resize wie beim echten Tippen
        inputField.style.height = 'auto';
        inputField.style.height = inputField.scrollHeight + 'px';

        // Kleine Pause bei Satzzeichen
        const char = startText.charAt(i - 1);
        const delay = (char === '.' || char === ',' || char === '\n') ? 200 : typingSpeed;

        setTimeout(typeIntoInput, delay);
    }
}

setTimeout(() => {
    typeIntoInput();
}, 2000);
            
 
            function addUserMessage(text) {
                const userMessageContainer = document.createElement('div');
                userMessageContainer.classList.add('message', 'user-message');
                userMessageContainer.textContent = text;
                messagesContainer.appendChild(userMessageContainer);
                scrollToBottom();
            }
 
            function addBotMessage(text) {
                const botMessageContainer = document.createElement('div');
                botMessageContainer.classList.add('bot-message-container');
                const botName = document.createElement('div');
                botName.classList.add('bot-name');
                botName.textContent = "ChatBot Gen2:";
                const botMessageElement = document.createElement('div');
                botMessageElement.classList.add('bot-message');
                botMessageContainer.appendChild(botName);
                botMessageContainer.appendChild(botMessageElement);
                messagesContainer.appendChild(botMessageContainer);
                scrollToBottom();

                let index = 0;

                function typeMessage() {
                    if (index < text.length) {
                        botMessageElement.innerHTML += text[index];
                        index++;
                        setTimeout(typeMessage, 30);
                        }
                    }

                    typeMessage();
            }

 
          sendButton.addEventListener('click', () => {
  const userMessage = inputField.value;

  if (userMessage.trim() !== "") {
    addUserMessage(userMessage);
    inputField.value = "";

    // optional: Tipp-Pause
    setTimeout(() => {
      // Bot-Nachricht 1
      addBotMessage(
        "The provided information is now being processed. Based on the entered information, a factual and information-oriented email draft will be generated automatically. The draft is based exclusively on the content provided. Processing is automated and may take a short moment."
      );

      // Bot-Nachricht 2 (E-Mail-Entwurf)
      setTimeout(() => {
        addBotMessage(
        "Hello Philip,\n\n" +
        "thank you very much for the project completion report from November 17. I truly appreciate your commitment – it really shows how much work you put into it.\n\n" +
        "While reviewing it, I noticed a few points that we should go over together and correct before sending it to the client:\n\n" +
        "• In the budget overview, a few inconsistencies have emerged, meaning that an amount that is currently too high is being shown.\n" +
        "• In addition, a few small typos have crept in.\n\n" +
        "Would it be possible for you to revise the mentioned points and send me an updated version by the end of next week? I am convinced that the document will then be a truly convincing piece of work.\n\n" +
        "Please feel free to let me know if you need any support – we will manage this well together.\n\n" +
        "Thank you very much and kind regards"
        );
      }, 14000); // <- Abstand zwischen Bot-Nachricht 1 und 2
            setTimeout(() => {
    addBotMessage(
  "The email draft is complete.\n" +
        "If needed, the text can be further adjusted."
    );
}, 43000); // z.B. 6 Sekunden nach der E-Mail
            
        }, 3000); // z.B. 3 Sekunden Tipp-Punkte-Dauer
    }
});
 
            inputField.addEventListener('input', () => {
                inputField.style.height = 'auto';
                inputField.style.height = inputField.scrollHeight + 'px';
            });
            
            function scrollToBottom() {
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
        });
    </script>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <img src="/static/ki-bild-2.jpg" alt="ChatBot Gen2">
            ChatBot Gen2
            <button class="close-button">×</button>
        </div>
        <div class="chat-messages"></div>
        <div class="input-container">
            <textarea class="input-field"></textarea>
            <button class="send-button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                    <path d="M2 2L22 12L2 22V16L16 12L2 8V2Z" />
                </svg>
            </button>
        </div>
    </div>
</body>
</html>


